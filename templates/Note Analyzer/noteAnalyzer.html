{% extends "base.html" %}

{% block title %}{{ _('EduDuck - Note Analyzer') }}{% endblock %}

{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='spinner.css') }}">
    <script src="/dist/noteAnalyzer/main.js" type="module" defer></script>
    <script src="/dist/Components/fileDrop.js" defer></script>
    <script>
        window.CURRENT_USERNAME = "{{ current_user.username if current_user.is_authenticated else '' }}";
    </script>
{% endblock %}

{% block content %}
    <div class="main-content">
        <div class="main">
            {% include 'includes/model_selector.html' %}

            {% include 'includes/file_upload.html' %}

            <textarea class="notes textInput large" placeholder="{{ _('Paste your notes here for analysis...') }} {{ prefill_topic or '' }}"></textarea>

            {% include 'includes/language_selector.html' %}

            <button class="button submit">{{ _('Analyze My Notes') }}</button>

            <div class="file-upload-wrapper">
                <input type="file" id="analysisfileInput" class="file-input import" accept=".json">
                <label for="analysisfileInput" class="button fileButton">{{ _('Import Analysis') }}</label>
            </div>
        </div>

        <div class="status-wrapper hidden">
            <div class="spinner hidden"></div>
            <span class="status-text hidden"></span>
        </div>
    </div>
{% endblock %}