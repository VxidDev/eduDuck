{% extends "base.html" %}

{% block title %}EduDuck - Flashcard Generator{% endblock %}

{% block head %}
    <link rel="stylesheet" href="/static/spinner.css">
    <script src="/dist/flashcardGenerator/script.js" type="module" defer></script>
    <script src="/dist/Components/fileDrop.js" defer></script>
    <script>
        window.CURRENT_USERNAME = "{{ current_user.username if current_user.is_authenticated else '' }}";
    </script>
{% endblock %}

{% block content %}
    <div class="main-content">
        <div class="main">
        {% include 'includes/model_selector.html' %}
        
        {% include 'includes/file_upload.html' %}
        
        <textarea class="notes textInput standard" placeholder="Notes go here :]">{{ prefill_topic or '' }}</textarea>
                
        <div class="options-section">
            <select id="questionCount" class="select">
                <option value="5">5 Flashcards</option>
                <option value="10">10 Flashcards</option>
                <option value="15">15 Flashcards</option>
                <option value="20">20 Flashcards</option>
            </select>
        </div>
        
        {% include 'includes/language_selector.html' %}
        
        <button class="button submit" style="width: auto;">âœ¨ Generate Flashcards</button>
        <div class="file-upload-wrapper">
            <input type="file" id="quizfileInput" class="file-input import" accept=".json"/>
            <label for="quizfileInput" class="button fileButton">ðŸ“„ Import Flashcards</label>
        </div>
        <div class="status-wrapper">
            <div class="spinner hidden"></div>
            <span class="status-text hidden"></span>
        </div>
    </div>
    </div>
{% endblock %}
